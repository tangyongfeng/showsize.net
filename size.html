<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-language Multi-country Photo Sizes with Rotation and Overflow Warning</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: auto;
        }
        #main-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            box-sizing: border-box;
            width: 100%;
            max-width: 1200px;
        }
        #rectangle-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            min-width: 300px;
            min-height: 300px;
            max-width: 100%;
        }
        #rectangle {
            border: 2px solid black;
            position: absolute;
            transition: transform 0.3s ease;
            transform-origin: center center;
        }
        #widthLabel {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
        }
        #heightLabel {
            position: absolute;
            right: -50px;
            top: 50%;
            transform: translateY(-50%);
            writing-mode: vertical-rl;
        }
        #control-panel {
            width: 300px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background: white;
            z-index: 10;
            position: relative;
            flex-shrink: 0;
        }
        #control-panel label, #control-panel select, #control-panel input {
            display: block;
            margin-bottom: 10px;
        }
        #control-panel select, #control-panel input {
            width: 100%;
        }
        #rotate-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        #warning {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        @media (max-width: 650px) {
            #main-container {
                flex-direction: column;
                align-items: center;
            }
            #rectangle-container {
                order: 2;
            }
            #control-panel {
                order: 1;
            }
        }
    </style>
</head>
<body>
    <div id="main-container">
        <div id="rectangle-container">
            <div id="rectangle"></div>
            <div id="widthLabel"></div>
            <div id="heightLabel"></div>
        </div>
        <div id="control-panel">
            <h3 id="title">Control Panel</h3>
            <label id="langLabel">Select Language:</label>
            <select id="language" onchange="updateLanguage()"></select>
            <label id="countryLabel">Select Country:</label>
            <select id="country" onchange="updateSizes()"></select>
            <label id="sizeLabel">Select Photo Size:</label>
            <select id="presetSizes" onchange="selectPreset()"></select>
            <label id="widthLabelInput">Width (mm):</label>
            <input type="number" id="widthMM" value="24" onchange="drawRectangle()">
            <label id="heightLabelInput">Height (mm):</label>
            <input type="number" id="heightMM" value="65" onchange="drawRectangle()">
            <label id="rotateLabel">Rotate Angle:</label>
            <div id="rotate-options">
                <label><input type="radio" name="rotateAngle" value="0" checked onchange="drawRectangle()"> 0°</label>
                <label><input type="radio" name="rotateAngle" value="90" onchange="drawRectangle()"> 90°</label>
                <label><input type="radio" name="rotateAngle" value="180" onchange="drawRectangle()"> 180°</label>
                <label><input type="radio" name="rotateAngle" value="270" onchange="drawRectangle()"> 270°</label>
            </div>
            <div id="warning"></div>
        </div>
    </div>

    <script>
        // Multi-language support (20 common languages)
        const languages = {
            "zh-CN": { name: "中文", title: "控制面板", lang: "选择语言", country: "选择国家", size: "选择照片尺寸", width: "宽度 (mm)", height: "高度 (mm)", rotate: "旋转角度", warning: "方框大小已超过你的视口尺寸" },
            "en": { name: "English", title: "Control Panel", lang: "Select Language", country: "Select Country", size: "Select Photo Size", width: "Width (mm)", height: "Height (mm)", rotate: "Rotate Angle", warning: "Rectangle size exceeds your viewport dimensions" },
            "es": { name: "Español", title: "Panel de Control", lang: "Seleccionar Idioma", country: "Seleccionar País", size: "Seleccionar Tamaño", width: "Ancho (mm)", height: "Alto (mm)", rotate: "Ángulo de Rotación", warning: "El tamaño del rectángulo excede las dimensiones de tu viewport" },
            "fr": { name: "Français", title: "Panneau de Contrôle", lang: "Choisir la Langue", country: "Choisir le Pays", size: "Choisir la Taille", width: "Largeur (mm)", height: "Hauteur (mm)", rotate: "Angle de Rotation", warning: "La taille du rectangle dépasse les dimensions de votre viewport" },
            "de": { name: "Deutsch", title: "Bedienfeld", lang: "Sprache Wählen", country: "Land Wählen", size: "Größe Wählen", width: "Breite (mm)", height: "Höhe (mm)", rotate: "Rotationswinkel", warning: "Die Rechteckgröße überschreitet die Abmessungen Ihres Viewports" },
            "ja": { name: "日本語", title: "コントロールパネル", lang: "言語を選択", country: "国を選択", size: "サイズを選択", width: "幅 (mm)", height: "高さ (mm)", rotate: "回転角度", warning: "矩形のサイズがビューポートの寸法を超えています" },
            "ru": { name: "Русский", title: "Панель управления", lang: "Выбрать язык", country: "Выбрать страну", size: "Выбрать размер", width: "Ширина (мм)", height: "Высота (мм)", rotate: "Угол поворота", warning: "Размер прямоугольника превышает размеры вашего окна просмотра" },
            "pt": { name: "Português", title: "Painel de Controle", lang: "Selecionar Idioma", country: "Selecionar País", size: "Selecionar Tamanho", width: "Largura (mm)", height: "Altura (mm)", rotate: "Ângulo de Rotação", warning: "O tamanho do retângulo excede as dimensões da sua viewport" },
            "it": { name: "Italiano", title: "Pannello di Controllo", lang: "Seleziona Lingua", country: "Seleziona Paese", size: "Seleziona Dimensione", width: "Larghezza (mm)", height: "Altezza (mm)", rotate: "Angolo di Rotazione", warning: "La dimensione del rettangolo supera le dimensioni del tuo viewport" },
            "ar": { name: "العربية", title: "لوحة التحكم", lang: "اختر اللغة", country: "اختر الدولة", size: "اختر الحجم", width: "العرض (مم)", height: "الارتفاع (مم)", rotate: "زاوية الدوران", warning: "حجم المستطيل يتجاوز أبعاد نافذة العرض الخاصة بك" },
            "ko": { name: "한국어", title: "제어판", lang: "언어 선택", country: "국가 선택", size: "크기 선택", width: "너비 (mm)", height: "높이 (mm)", rotate: "회전 각도", warning: "사각형 크기가 뷰포트 크기를 초과했습니다" },
            "hi": { name: "हिन्दी", title: "नियंत्रण कक्ष", lang: "भाषा चुनें", country: "देश चुनें", size: "आकार चुनें", width: "चौड़ाई (मिमी)", height: "ऊंचाई (मिमी)", rotate: "घूमने का कोण", warning: "आयत का आकार आपके व्यूपोर्ट आयामों से अधिक है" },
            "bn": { name: "বাংলা", title: "নিয়ন্ত্রণ প্যানেল", lang: "ভাষা নির্বাচন করুন", country: "দেশ নির্বাচন করুন", size: "আকার নির্বাচন করুন", width: "প্রস্থ (মিমি)", height: "উচ্চতা (মিমি)", rotate: "ঘূর্ণন কোণ", warning: "আয়তক্ষেত্রের আকার আপনার ভিউপোর্টের মাত্রা অতিক্রম করেছে" },
            "tr": { name: "Türkçe", title: "Kontrol Paneli", lang: "Dil Seç", country: "Ülke Seç", size: "Boyut Seç", width: "Genişlik (mm)", height: "Yükseklik (mm)", rotate: "Dönüş Açısı", warning: "Dikdörtgen boyutu görüntü alanınızın boyutlarını aşıyor" },
            "vi": { name: "Tiếng Việt", title: "Bảng Điều Khiển", lang: "Chọn Ngôn Ngữ", country: "Chọn Quốc Gia", size: "Chọn Kích Thước", width: "Chiều Rộng (mm)", height: "Chiều Cao (mm)", rotate: "Góc Xoay", warning: "Kích thước hình chữ nhật vượt quá kích thước viewport của bạn" },
            "th": { name: "ไทย", title: "แผงควบคุม", lang: "เลือกภาษา", country: "เลือกประเทศ", size: "เลือกขนาด", width: "ความกว้าง (มม.)", height: "ความสูง (มม.)", rotate: "มุมหมุน", warning: "ขนาดสี่เหลี่ยมเกินขนาดของ viewport ของคุณ" },
            "pl": { name: "Polski", title: "Panel Sterowania", lang: "Wybierz Język", country: "Wybierz Kraj", size: "Wybierz Rozmiar", width: "Szerokość (mm)", height: "Wysokość (mm)", rotate: "Kąt Obrotu", warning: "Rozmiar prostokąta przekracza wymiary Twojego viewportu" },
            "nl": { name: "Nederlands", title: "Configuratiescherm", lang: "Kies Taal", country: "Kies Land", size: "Kies Formaat", width: "Breedte (mm)", height: "Hoogte (mm)", rotate: "Rotatiehoek", warning: "De grootte van de rechthoek overschrijdt de afmetingen van uw viewport" },
            "id": { name: "Bahasa Indonesia", title: "Panel Kontrol", lang: "Pilih Bahasa", country: "Pilih Negara", size: "Pilih Ukuran", width: "Lebar (mm)", height: "Tinggi (mm)", rotate: "Sudut Putar", warning: "Ukuran persegi panjang melebihi dimensi viewport Anda" },
            "ms": { name: "Bahasa Melayu", title: "Panel Kawalan", lang: "Pilih Bahasa", country: "Pilih Negara", size: "Pilih Saiz", width: "Lebar (mm)", height: "Tinggi (mm)", rotate: "Sudut Putaran", warning: "Saiz segi empat melebihi dimensi viewport anda" }
        };

        // Countries' common photo sizes (in mm)
        const photoSizes = {
            Albania: [
                { name: "Passport", value: "40,50" },
                { name: "ID Card", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Brazil: [
                { name: "Passport", value: "50,70" },
                { name: "ID Card (Carteira de Identidade)", value: "30,40" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Canada: [
                { name: "Passport", value: "50,70" },
                { name: "Permanent Resident Card", value: "35,45" },
                { name: "Citizenship Photo", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            China: [
                { name: "Passport", value: "33,48" },
                { name: "ID Card", value: "25,35" },
                { name: "Visa", value: "33,48" },
                { name: "Custom", value: "custom" }
            ],
            France: [
                { name: "Passport", value: "35,45" },
                { name: "ID Card", value: "35,45" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Germany: [
                { name: "Passport", value: "35,45" },
                { name: "ID Card", value: "35,45" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            India: [
                { name: "Passport", value: "35,45" },
                { name: "PAN Card", value: "25,35" },
                { name: "Aadhaar Card", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Indonesia: [
                { name: "Passport", value: "40,60" },
                { name: "ID Card (KTP)", value: "30,40" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Japan: [
                { name: "Passport", value: "35,45" },
                { name: "My Number Card", value: "35,45" },
                { name: "Visa", value: "45,45" },
                { name: "Custom", value: "custom" }
            ],
            Mexico: [
                { name: "Passport", value: "35,45" },
                { name: "Voter ID (INE)", value: "25,35" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Philippines: [
                { name: "Passport", value: "45,45" },
                { name: "National ID", value: "35,45" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Russia: [
                { name: "Passport", value: "35,45" },
                { name: "Internal ID", value: "30,40" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            SouthKorea: [
                { name: "Passport", value: "35,45" },
                { name: "Resident ID", value: "35,45" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            Thailand: [
                { name: "Passport", value: "35,45" },
                { name: "ID Card", value: "35,45" },
                { name: "Visa", value: "40,60" },
                { name: "Custom", value: "custom" }
            ],
            Turkey: [
                { name: "Passport", value: "50,60" },
                { name: "ID Card (Kimlik)", value: "35,45" },
                { name: "Visa", value: "50,50" },
                { name: "Custom", value: "custom" }
            ],
            UK: [
                { name: "Passport", value: "35,45" },
                { name: "Driving Licence", value: "35,45" },
                { name: "Visa", value: "35,45" },
                { name: "Custom", value: "custom" }
            ],
            USA: [
                { name: "Passport", value: "51,51" },
                { name: "Visa", value: "51,51" },
                { name: "Green Card", value: "51,51" },
                { name: "Custom", value: "custom" }
            ]
        };

        function updateLanguage() {
            const lang = document.getElementById("language").value;
            const texts = languages[lang];
            document.getElementById("title").textContent = texts.title;
            document.getElementById("langLabel").textContent = texts.lang + ":";
            document.getElementById("countryLabel").textContent = texts.country + ":";
            document.getElementById("sizeLabel").textContent = texts.size + ":";
            document.getElementById("widthLabelInput").textContent = texts.width + ":";
            document.getElementById("heightLabelInput").textContent = texts.height + ":";
            document.getElementById("rotateLabel").textContent = texts.rotate + ":";
            document.getElementById("warning").textContent = texts.warning;
            drawRectangle();
        }

        function updateSizes() {
            const country = document.getElementById("country").value;
            const presetSizes = document.getElementById("presetSizes");
            presetSizes.innerHTML = "";

            photoSizes[country].forEach(size => {
                const option = document.createElement("option");
                option.value = size.value;
                option.textContent = size.name;
                presetSizes.appendChild(option);
            });

            selectPreset();
        }

        function drawRectangle() {
            const widthMM = parseFloat(document.getElementById("widthMM").value) || 0;
            const heightMM = parseFloat(document.getElementById("heightMM").value) || 0;
            const rotateAngle = parseInt(document.querySelector('input[name="rotateAngle"]:checked').value);
            const dpi = window.devicePixelRatio * 96;
            const mmPerInch = 25.4;

            const widthPX = (widthMM / mmPerInch) * dpi;
            const heightPX = (heightMM / mmPerInch) * dpi;

            const rect = document.getElementById("rectangle");
            rect.style.width = `${widthPX}px`;
            rect.style.height = `${heightPX}px`;
            rect.style.transform = `rotate(${rotateAngle}deg)`;

            document.getElementById("widthLabel").textContent = `${widthMM} mm`;
            document.getElementById("heightLabel").textContent = `${heightMM} mm`;

            // Check if rectangle exceeds viewport
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const rectContainer = document.getElementById("rectangle-container");
            const rectBounds = rect.getBoundingClientRect();
            const warning = document.getElementById("warning");
            const lang = document.getElementById("language").value;

            const effectiveWidth = (rotateAngle === 90 || rotateAngle === 270) ? heightPX : widthPX;
            const effectiveHeight = (rotateAngle === 90 || rotateAngle === 270) ? widthPX : heightPX;

            const exceedsViewport = rectBounds.left < 0 || rectBounds.right > viewportWidth ||
                                   rectBounds.top < 0 || rectBounds.bottom > viewportHeight ||
                                   effectiveWidth > viewportWidth || effectiveHeight > viewportHeight;

            if (exceedsViewport) {
                warning.style.display = "block";
                warning.textContent = languages[lang].warning;
            } else {
                warning.style.display = "none";
            }
        }

        function selectPreset() {
            const preset = document.getElementById("presetSizes").value;
            const widthInput = document.getElementById("widthMM");
            const heightInput = document.getElementById("heightMM");

            if (preset === "custom") {
                widthInput.disabled = false;
                heightInput.disabled = false;
            } else {
                const [width, height] = preset.split(",").map(Number);
                widthInput.value = width;
                heightInput.value = height;
                widthInput.disabled = true;
                heightInput.disabled = true;
                drawRectangle();
            }
        }

        window.onload = function() {
            const langSelect = document.getElementById("language");
            Object.keys(languages).forEach(lang => {
                const option = document.createElement("option");
                option.value = lang;
                option.textContent = languages[lang].name;
                langSelect.appendChild(option);
            });

            const countrySelect = document.getElementById("country");
            Object.keys(photoSizes).forEach(country => {
                const option = document.createElement("option");
                option.value = country;
                option.textContent = country;
                countrySelect.appendChild(option);
            });

            langSelect.value = "en";
            updateLanguage();
            updateSizes();
        };
    </script>
</body>
</html>